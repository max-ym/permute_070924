# Transform files define the transformation logic for a given entity type.
# New types can be defined in the transform file as well.

permute:
  version: 0.1
  type: transform

impl EmploymentRecord:
  fn is_terminated(self) -> Boolean: |
    self.termination_date.is_some()

  fn is_active(self) -> Boolean: |
    !self.is_terminated()

  fn job_title(self) -> Option<String>: |
    self.meta
      .get("job")?
      .get("title")

impl Date:
  fn date_fmt(self) -> String: |
    self.format("%Y-%m-%d")
